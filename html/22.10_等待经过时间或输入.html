<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="elisp.css"><title>22.10 等待经过时间或输入</title></head><body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000"><h2 class="section">22.10 等待经过时间或输入</h2>
<div class="nav-panel"><p>Next: <a href="22.11_退出.html">退出</a>, Previous: <a href="22.9_特别活动.html">特别活动</a>, Up: <a href="22_命令循环.html">命令循环.</a> &nbsp; [<a href="00_content.htm" title="Table of contents" rel="contents">Contents</a>]</p></div></body></html><hr/><p>等待功能旨在等待一定的时间过去或直到有输入。例如，您可能希望在计算过程中暂停，以便用户有时间查看显示。sat-for 暂停并更新屏幕，如果有输入则立即返回，而 sleep-for 暂停而不更新屏幕。
</p>
<div class="lisp">
<pre class="lisp">Function: sit-for seconds &amp;optional nodisp ¶
</pre></div>
<p>此函数执行重新显示（假设没有来自用户的待处理输入），然后等待几秒钟，或者直到输入可用。静坐的通常目的是让用户有时间阅读您显示的文本。如果 sit-for 一直等待而没有输入到达，则该值为 t（请参阅杂项事件输入功能）。否则，该值为 nil。
</p>
<p>参数 seconds 不必是整数。如果它是浮点数，sit-for 会等待一小部分秒数。有些系统只支持整数秒；  在这些系统上，秒是向下舍入的。
</p>
<p>表达式 (sit-for 0) 等价于 (redisplay)，即，如果没有挂起的输入，它会请求重新显示，没有任何延迟。请参阅强制重新显示。
</p>
<p>如果 nodisp 不为零，则 sit-for 不会重新显示，但只要输入可用（或超时时间过去），它仍然会返回。
</p>
<p>在批处理模式下（请参阅批处理模式），即使来自标准输入描述符的输入也不能中断静坐。因此它等价于 sleep-for，如下所述。
</p>
<p>也可以使用三个参数调用 sit-for，如 (sit-for seconds millisec nodisp)，但这被认为已过时。
</p>
<div class="lisp">
<pre class="lisp">Function: sleep-for seconds &amp;optional millisec ¶
</pre></div>
<p>此功能只是暂停几秒钟而不更新显示。它不注意可用的输入。它返回零。
</p>
<p>参数 seconds 不必是整数。如果是浮点数，sleep-for 会等待一小部分秒数。有些系统只支持整数秒；  在这些系统上，秒是向下舍入的。
</p>
<p>可选参数毫秒指定额外的等待时间，以毫秒为单位。这会增加以秒为单位的时间段。如果系统不支持等待几分之一秒，那么如果您指定非零毫秒，则会出现错误。
</p>
<p>当您希望保证延迟时，请使用 sleep-for。
</p>
<p>有关获取当前时间的功能，请参阅时间。
</p>
<hr/>

<div class="nav-panel"><p>Next: <a href="22.11_退出.html">退出</a>, Previous: <a href="22.9_特别活动.html">特别活动</a>, Up: <a href="22_命令循环.html">命令循环.</a> &nbsp; [<a href="00_content.htm" title="Table of contents" rel="contents">Contents</a>]</p></div></body></html>
<script>document.onkeydown=checkKey;function checkKey(e){if(e.keyCode=='39'){location="22.11_退出.html";}else if(e.keyCode=='37'){location="22.9_特别活动.html" } }</script>