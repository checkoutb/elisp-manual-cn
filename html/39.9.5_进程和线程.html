<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="elisp.css"><title>39.9.5 进程和线程</title></head><body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000"><h3 class="subsection">39.9.5 进程和线程</h3>
<div class="nav-panel"><p>Next: <a href="39.10_Sentinels：检测进程状态变化.html">Sentinels：检测进程状态变化</a>, Previous: <a href="39.9.4_接受进程的输出.html">接受进程的输出</a>, Up: <a href="39.9_接收进程的输出.html">接收进程的输出.</a> &nbsp; [<a href="00_content.htm" title="Table of contents" rel="contents">Contents</a>]</p></div></body></html><hr/><p>因为线程是 Emacs Lisp 中一个相对较晚的添加，并且由于动态绑定有时与 accept-process-output 结合使用的方式，默认情况下，进程被锁定到创建它的线程。当一个进程被锁定到一个线程时，该进程的输出只能被该线程接受。
</p>
<p>Lisp 程序可以指定将一个进程锁定到哪个线程，或者指示 Emacs 解锁一个进程，在这种情况下，它的输出可以由任何线程处理。一次只有一个线程会等待给定进程的输出——一旦一个线程开始等待输出，该进程就会被暂时锁定，直到 accept-process-output 或 sit-for 返回。
</p>
<p>如果线程退出，所有锁定到它的进程都被解锁。
</p>
<div class="lisp">
<pre class="lisp">Function: process-thread process ¶
</pre></div>
<p>返回进程被锁定的线程。如果进程未锁定，则返回 nil。
</p>
<div class="lisp">
<pre class="lisp">Function: set-process-thread process thread ¶
</pre></div>
<p>将进程的锁定线程设置为线程。thread 可能为 nil，在这种情况下进程被解锁。
</p>
<hr/>

<div class="nav-panel"><p>Next: <a href="39.10_Sentinels：检测进程状态变化.html">Sentinels：检测进程状态变化</a>, Previous: <a href="39.9.4_接受进程的输出.html">接受进程的输出</a>, Up: <a href="39.9_接收进程的输出.html">接收进程的输出.</a> &nbsp; [<a href="00_content.htm" title="Table of contents" rel="contents">Contents</a>]</p></div></body></html>
<script>document.onkeydown=checkKey;function checkKey(e){if(e.keyCode=='39'){location="39.10_Sentinels：检测进程状态变化.html";}else if(e.keyCode=='37'){location="39.9.4_接受进程的输出.html" } }</script>