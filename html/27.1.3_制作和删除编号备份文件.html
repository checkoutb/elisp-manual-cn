<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="elisp.css"><title>27.1.3 制作和删除编号备份文件</title></head><body lang="en" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000"><h3 class="subsection">27.1.3 制作和删除编号备份文件</h3>
<div class="nav-panel"><p>Next: <a href="27.1.4_命名备份文件.html">命名备份文件</a>, Previous: <a href="27.1.2_重命名备份还是复制备份？.html">重命名备份还是复制备份？</a>, Up: <a href="27.1_备份文件.html">备份文件.</a> &nbsp; [<a href="00_content.htm" title="Table of contents" rel="contents">Contents</a>]</p></div></body></html><hr/><p>如果文件名为 foo，则其编号备份版本的名称为 foo.~v~，对于各种整数 v，如下所示：foo.~1~, foo.~2~, foo.~3~, …, foo .~259~，依此类推。
</p>
<div class="lisp">
<pre class="lisp">User Option: version-control ¶
</pre></div>
<p>此变量控制是制作单个非编号备份文件还是制作多个编号备份。
</p>
<div class="lisp">
<pre class="lisp">nil
</pre></div>
<p>如果访问的文件已经有编号备份，则进行编号备份；  否则，不要。这是默认设置。
</p><div class="lisp">
<pre class="lisp">never
</pre></div>
<p>不要进行编号备份。
</p><div class="lisp">
<pre class="lisp">anything else
</pre></div>
<p>进行编号备份。
</p>
<p>使用编号备份最终会导致大量备份版本，然后必须将其删除。Emacs 可以自动执行此操作，也可以询问用户是否删除它们。
</p>
<div class="lisp">
<pre class="lisp">User Option: kept-new-versions ¶
</pre></div>
<p>此变量的值是进行新编号备份时要保留的最新版本数。新创建的备份包含在计数中。默认值为 2。
</p>
<div class="lisp">
<pre class="lisp">User Option: kept-old-versions ¶
</pre></div>
<p>此变量的值是创建新编号备份时要保留的最旧版本的数量。默认值为 2。
</p>
<p>如果有编号为 1、2、3、5 和 7 的备份，并且这两个变量的值都为 2，则编号为 1 和 2 的备份保留为旧版本，编号为 5 和 7 的备份保留为新版本；  备份版本 3 是多余的。函数 find-backup-file-name（请参阅命名备份文件）负责确定要删除哪些备份版本，但不会自行删除它们。
</p>
<div class="lisp">
<pre class="lisp">User Option: delete-old-versions ¶
</pre></div>
<p>如果此变量为 t，则保存文件会静默删除多余的备份版本。如果为 nil，则表示在删除多余的备份之前要求确认。否则，它们根本不会被删除。
</p>
<div class="lisp">
<pre class="lisp">User Option: dired-kept-versions ¶
</pre></div>
<p>此变量指定在 Dired 命令中保留多少最新备份版本。（dired-clean-目录）。当您制作新的备份文件时，keep-new-versions 指定的内容相同。默认值为 2。
</p>
<hr/>

<div class="nav-panel"><p>Next: <a href="27.1.4_命名备份文件.html">命名备份文件</a>, Previous: <a href="27.1.2_重命名备份还是复制备份？.html">重命名备份还是复制备份？</a>, Up: <a href="27.1_备份文件.html">备份文件.</a> &nbsp; [<a href="00_content.htm" title="Table of contents" rel="contents">Contents</a>]</p></div></body></html>
<script>document.onkeydown=checkKey;function checkKey(e){if(e.keyCode=='39'){location="27.1.4_命名备份文件.html";}else if(e.keyCode=='37'){location="27.1.2_重命名备份还是复制备份？.html" } }</script>